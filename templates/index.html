<html>
    <head>
        <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='style.css') }}">
        <script src="{{url_for('static', filename='script.js') }}" type="text/javascript"></script>
    </head>
    <body>
        <div class="button" id="button" onclick="turnOn()">
            <div class="light" id="light"></div>
        </div>

        <script>
            httpGetAsync("http://127.0.0.1:5000/ping");
            function httpGetAsync(url)
            {
                fetch(url).then(function(response) {
                    return response.json();
                  }).then(function(data) {
                    console.log(data);
                    if(data.isOn){
                        turnOn();
                    }
                  }).catch(function(err) {
                    console.log('Fetch Error :-S', err);
                  });
            }
        </script>
    </body>
</html>
